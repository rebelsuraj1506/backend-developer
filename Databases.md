# Databases

## Types of Databases

### Relational Databases
- **Purpose**: Primarily store structured data
- **Limitation**: Face challenges with unstructured data
- **Use Cases**: Traditional business applications, financial systems

### NoSQL Databases
- **Purpose**: Offer flexible structures to accommodate various data formats
- **Advantages**: Better suited for unstructured and semi-structured data
- **Use Cases**: Social media platforms, IoT applications, real-time analytics

## Big Data

### Definition
Refers to complex data that grows exponentially over time, generated by platforms like social media and online services.

Big Data refers to large volumes of complex data that can grow exponentially over time. It encompasses various types of data, including structured, semi-structured, and unstructured data, generated from sources like social media, online transactions, and IoT devices. 

## Key Differences Between Big Data and Traditional Data:

### Volume:

Big Data: Involves massive amounts of data, often in terabytes or petabytes.

Traditional Data: Typically smaller in size, often manageable within conventional database systems.

### Variety:

Big Data: Includes diverse data types (text, images, videos, etc.) from various sources.

Traditional Data: Primarily structured data, organized in tables with defined relationships.

### Velocity:

Big Data: Data is generated and processed at high speeds, requiring real-time analysis.

Traditional Data: Data is often collected and processed at a slower pace, with periodic updates.

### Complexity:

Big Data: Involves complex data relationships and requires advanced analytics tools to extract insights.

Traditional Data: Simpler data structures that can be analyzed using standard database queries.

### Storage and Processing:

Big Data: Often stored in distributed systems and requires specialized technologies (e.g., Hadoop, NoSQL databases).

Traditional Data: Typically stored in relational databases with structured query language (SQL) for data manipulation.

### Importance
- Helps businesses address complex problems
- Provides insights for better decision-making
- Applicable across various industries (manufacturing, telecommunications, etc.)

## Cloud Databases

### Current Trend
Organizations are increasingly moving to cloud databases to:
- Reduce infrastructure costs
- Minimize maintenance issues
- Improve scalability and accessibility

### Examples
- **Dropbox**: File storage and synchronization
- **iCloud**: Apple's cloud storage solution
- **AWS RDS**: Amazon's managed database service

## Business Intelligence

### Evolution
Databases have evolved beyond simple storage to become analytical tools that:
- Analyze data to inform business decisions
- Support data-driven strategies
- Enable predictive analytics and reporting

### Applications
- Data warehousing
- Real-time analytics
- Business reporting and dashboards

## SQL
SQL, or Structured Query Language, is a standard programming language used for managing and manipulating relational databases. Here’s a concise summary of its key aspects:

### Purpose:

SQL is designed to interact with relational databases, allowing users to create, read, update, and delete data (commonly referred to as CRUD operations).

### Basic Operations:

- Create: Define new tables and insert data.
- Read: Query data using SELECT statements to retrieve specific information.
- Update: Modify existing records in a database.
- Delete: Remove records from a database.

## Database Management System (DBMS):

SQL commands are executed through a DBMS, which interprets the SQL instructions and translates them into actions on the underlying database.

## Standardization:

SQL is a standardized language, meaning it can be used across various relational database systems, such as MySQL, PostgreSQL, Oracle, and Microsoft SQL Server.

## Data Definition Language (DDL):

SQL includes commands for defining database structures, such as CREATE, ALTER, and DROP.

## Data Manipulation Language (DML):
SQL provides commands for manipulating data, including INSERT, UPDATE, and DELETE.

## Data Query Languade(DQL):
DQL focuses on retrieving data from the database, primarily using the SELECT command.

## Data Control Language(DCL):
DCL manages user permissions and access control, using commands like GRANT and REVOKE.

## Table
A table in a database is a structured format used to store and organize data. Here’s a concise summary of its key components and characteristics:

### Structure:

A table consists of rows and columns. Each column represents a specific attribute or field, while each row corresponds to a single record or entry.
### Columns:

Columns, also known as fields or attributes, have unique names and defined data types (e.g., integer, string, date). Each column holds a specific type of data relevant to the table.
### Rows:

Rows, referred to as records, contain data entries. Each row represents a complete set of information for a single entity, such as a customer or an employee.
### Primary Key:

Each table typically has a primary key, which is a unique identifier for each record. This ensures that no two rows have the same value in the primary key column.
### Relationships:

Tables can be related to one another through foreign keys, which link records in one table to records in another, establishing relationships between different entities.
### Data Integrity:
Tables help maintain data integrity by enforcing rules and constraints, such as ensuring that certain fields cannot be left empty or that values adhere to specific formats.

## What are data types?
Every column in a table has a data type. These data types are defined by SQL or Structured Query Language. A data type defines the type of value that can be stored in a table column. 

For example, here are some of the data types that are available:

Numeric data types such as INT, TINYINT, BIGINT, FLOAT, REAL. 

Date and time data types such as DATE, TIME, DATETIME. 

Character and string data types such as CHAR, VARCHAR. 

Binary data types such as BINARY, VARBINARY. 

Miscellaneous data types such as: 

Character Large Object (CLOB) for storing a large block of text in some form of text encoding.   

Binary Large Object (BLOB) for storing a collection of binary data such as images. 

## Integrity constraints
Every table in a database should abide by rules or constraints. These are known as integrity constraints.

There are three main integrity constraints:

1. Key constraints

2. Domain constraints

3. Referential integrity constraints

### What are key constraints?
In every table there should be one or more columns or fields that can be used to fetch data from tables. In other words, a primary key. The key constraint specifies that there should be a column, or columns, in a table that can be used to fetch data for any row. This key attribute or primary key should never be NULL or the same for two different rows of data. For example, in the student table I can use the student ID to fetch data for each of the students. No value of student ID is null, and it is unique for every row, hence it can be the key attribute.

### What are domain constraints?
Domain constraints refer to the rules defined for the values that can be stored for a certain column. For instance, you cannot store the home address of a student in the first name column. Similarly, a contact number cannot exceed ten digits.

### What are referential integrity constraints?
When a table is related to another table via a foreign key column, then the referenced column value must exist in the other table. This means, according to the student and department examples, that values should exist in the student ID column in the student table because the two tables are related via the student ID column.

In this reading, you learned more about tables in a relational database as you explored the table in terms of its structure, data types, constraints, and the role of primary and foreign keys. 

## Logical database structure
The logical structure of a database is represented using a diagram known as the Entity Relationship Diagram (ERD). It is a visual representation of how the database will be implemented into tables during physical database design, using a Database Management System (DBMS) like MySQL or Oracle, for example. 

A part of the logical database structure is how relationships are established between entities. These relationships are established between the instances of the entities. Accordingly, there can be three ways in which entity instances can be related to each other:

- One-to-one relationships 

- One-to-many relationships 

- Many-to-many relationships 

This is also known as cardinality of relationships. The logical database structure which is represented using an ERD also depicts these relationships.

### Primary Key:

A primary key is a unique identifier for each record in a table. It ensures that no two rows have the same value in this column, maintaining data integrity.
### Foreign Key:

A foreign key is an attribute in one table that references the primary key of another table. It establishes a relationship between the two tables, allowing for data linkage and integrity across the database.
### Candidate Key:

A candidate key is any attribute that can uniquely identify a record in a table. There can be multiple candidate keys, but one is selected as the primary key.
### Composite Key:

A composite key consists of two or more attributes combined to create a unique identifier for a record. It is used when a single attribute is not sufficient to uniquely identify a record.
### Alternate Key:

An alternate key, also known as a secondary key, is a candidate key that was not chosen as the primary key. It still contains unique values and can be used for data retrieval.
### Surrogate Key:
A surrogate key is an artificial key created to uniquely identify a record, often using a sequential number. It is not derived from the data itself and is used when natural keys are not suitable.

## INSERT INTO SELECT
The INSERT INTO SELECT statement in SQL is used to insert data into a target table by selecting data from a source table. This allows you to populate a table with data retrieved from another table efficiently. Here’s a summary of how it works:

### Summary of INSERT INTO SELECT:

- Purpose: To insert records into a target table by selecting records from a source table.
- Syntax:
```sql
INSERT INTO target_table (column1, column2, ...)
SELECT column1, column2, ...
FROM source_table
WHERE condition;
```
- Functionality: The statement selects data from specified columns in the source table and inserts it into the corresponding columns of the target table.
- Example:

Suppose you have two tables: Players (source table) and Country (target table). You want to insert player country names from the Players table into the Country table.

Source Table (Players):
| PlayerID | PlayerName | CountryName |
|----------|------------|-------------|
| 1        | John       | USA         |
| 2        | Maria      | Canada      |
| 3        | Ahmed      | Egypt       |

Target Table (Country) (initially empty):
| CountryID | CountryName |
|-----------|-------------|
|           |             |

### SQL Statement:

```sql
INSERT INTO Country (CountryName)
SELECT CountryName
FROM Players;
```
Result: After executing the above statement, the Country table will be populated as follows:

| CountryID | CountryName |
|-----------|-------------|
| 101 | USA |
| 102 | Canada |
| 103 | Egypt |

| Logical Operator | Description                                                                 | Example                                                        |
|------------------|-----------------------------------------------------------------------------|----------------------------------------------------------------|
| AND              | Combines multiple conditions; all conditions must be true for the result.   | SELECT * FROM table WHERE condition1 AND condition2;           |
| OR               | At least one condition must be true for the result.                         | SELECT * FROM table WHERE condition1 OR condition2;            |
| NOT              | Reverses the result of a condition; true becomes false and vice versa.      | SELECT * FROM table WHERE NOT condition;                       |
| BETWEEN          | Checks if a value is within a specified range (inclusive).                  | SELECT * FROM table WHERE column BETWEEN value1 AND value2;    |
| IN               | Checks if a value matches any value in a specified list.                    | SELECT * FROM table WHERE column IN (value1, value2, value3);  |
| LIKE             | Used for pattern matching with wildcard characters.                         | SELECT * FROM table WHERE column LIKE 'pattern%';              |
| IS NULL          | Checks if a value is NULL (i.e., has no value).                             | SELECT * FROM table WHERE column IS NULL;                      |
| EXISTS           | Checks for the existence of rows in a subquery.                             | SELECT * FROM table WHERE EXISTS (SELECT * FROM another_table WHERE condition); |

## Additional resources
The following resources are some additional reading material that introduces you to the concept of a database, different types of databases, about relational databases in specific and also about the history of databases. These will add to the knowledge that you've got on these areas throughout this lesson.

## What is a Database Schema?

A **database schema** is the blueprint or structure that defines how data is organized within a database. It details the tables, columns, data types, relationships, and constraints within the database. Designing the schema is the first and most critical step in building a database system, as it determines how data is stored, connected, and accessed.

A schema acts as a plan that guides both how data will be stored and how applications or users will interact with the database. Importantly, the schema itself does not store any data—rather, it defines the structure that data will adhere to.

### Three Types of Database Schema

Database schemas are broadly categorized into three types:

1. **Conceptual or Logical Schema**  
   - Describes the structure of the entire database for all users.
   - Specifies entities (such as Employee or Department), their attributes, and relationships among them.
   - Typically illustrated through Entity Relationship Diagrams (ERDs).
   - Focuses on *what* data is stored and how it is related, independently of physical considerations.
   - Used mainly by software developers and database designers.
   
   **Example**:  
   Imagine a logical schema where there are two entities: Employee and Department.  
   - *Employee* entity: EmployeeID, Name, DepartmentID  
   - *Department* entity: DepartmentID, DepartmentName  
   The Relationship: Each employee belongs to a department.

**Diagram:**

```
[Employee] -- belongs to --> [Department]
```

This illustrates that each Employee is associated with (belongs to) a Department, visually representing the relationship defined in the logical schema example above.

2. **Internal or Physical Schema**  
   - Describes the physical storage details of the database.
   - Defines how tables, columns, indexes, and records are stored on disk.
   - Focuses on *how* data is actually stored and accessed (e.g., data files, access paths).
   - Used by database administrators and system architects.

    **Example**:  
    Let's illustrate the internal/physical schema for Employee and Department tables with possible physical storage details.

    **Storage Structure:**

    - **Employee Table**:
    - `EmpNo`: INT (stored as 4 bytes)
    - `EmpName`: VARCHAR(100) (stored as variable length, up to 100 bytes)
    - `Salary`: INT (stored as 4 bytes)

    - **Department Table**:
    - `DeptNo`: INT (stored as 4 bytes)
    - `DeptName`: VARCHAR(50) (stored as variable length, up to 50 bytes)

    **Physical Representation:**

    | EmpNo | EmpName          | Salary |
    |-------|------------------|--------|
    | 1     | John Doe         | 50000  |
    | 2     | Jane Smith       | 60000  |

    | DeptNo | DeptName       |
    |--------|----------------|
    | 1      | HR             |
    | 2      | IT             |


3. **External or View Schema**  
   - Defines how different users or applications view the database.
   - Each user might have a customized view showing only relevant tables and attributes.
   - Hides non-essential details from specific users to simplify their interaction and enforce security.

    **Example**:  
    Let's illustrate the external/view schema for Employee data as seen by different users or applications.

    **User1 View (HR Department):**
    - **Columns**: EmpNo, EmpName
    - **Query**: `SELECT EmpNo, EmpName FROM Employee WHERE DeptNo = 1;`

    **User2 View (IT Department):**
    - **Columns**: EmpNo, EmpName, Salary
    - **Query**: `SELECT EmpNo, EmpName, Salary FROM Employee WHERE DeptNo = 2;`

    **View Representation:**

    *User1 View:*

    | EmpNo | EmpName   |
    |-------|-----------|
    | 1     | John Doe  |

    *User2 View:*

    | EmpNo | EmpName    | Salary |
    |-------|------------|--------|
    | 2     | Jane Smith | 60000  |

### The Three-Schema Architecture

These three schema levels—conceptual, internal, and external—together form the **three-schema architecture**. This separation provides flexibility, letting the physical storage details change without impacting user views, and vice versa.

**Diagrammatic Representation:**

```
+---------------------+
|  Conceptual Schema  |
|  (Entities,         |
|  Attributes,        |
|  Relationships)     |
+---------------------+
          |
          |  (Defines structure)
          v
+---------------------+
|   Internal Schema   |
|  (Physical Storage) |
+---------------------+
          |
          |  (Provides data access)
          v
+---------------------+
|   External Schema   |
|  (User Views)       |
+---------------------+
```

**Summary:**

- The **Conceptual Schema** defines the overall structure and relationships of the data.
- The **Internal Schema** implements this structure in a physical format for efficient storage and retrieval.
- The **External Schema** provides user-specific views based on the conceptual schema while utilizing the internal schema for data access.

### Importance of a Well-Designed Database Schema

A good schema is crucial for several reasons:
- Organizes data efficiently and minimizes redundancy.
- Clearly shows the relationships between different tables and data types.
- Enables easier maintenance, expansion, and data integrity.
- Facilitates writing efficient queries for operations, reporting, and analytics.
- Prevents costly reverse-engineering if requirements change, thus saving time and resources.

In summary, a database schema establishes the foundation for how data is stored, related, and accessed—making it vital for robust, scalable, and maintainable database systems.


- [Oracle](https://www.oracle.com/uk/database/what-is-database/)

- [Javapoint](https://www.javatpoint.com/types-of-databases)

- [IBM](https://www.ibm.com/think/topics/relational-databases)

- [Tutorialspoint](https://www.tutorialspoint.com/sql/sql-databases.htm)

- [Graphdatamodeling](http://graphdatamodeling.com/GraphDataModeling/History.html)